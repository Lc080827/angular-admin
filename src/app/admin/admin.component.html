<div fxLayout="row" fxFill>

    <!--左侧工具栏-->
    <div fxFlex="56px" fxLayout="column" fxLayoutAlign="start center"
         class="pd-8 mat-toolbar mat-primary">

        <!--顶部按钮-->
        <button md-icon-button (click)="sidenav.toggle()">
            <md-icon>menu</md-icon>
        </button>

        <!--中间部分-->
        <div fxFlex>
            <h3 style="width: 20px;text-align: center">后台管理系统</h3>
        </div>

        <!--底部按钮-->
        <button md-icon-button (click)="isDarkTheme = !isDarkTheme" mdTooltip="主题模式" mdTooltipPosition="right">
            <md-icon [textContent]="isDarkTheme ? 'brightness_4' : 'brightness_5'"></md-icon>
        </button>
        <a routerLink="/login" md-icon-button *ngIf="!(user | async)" mdTooltip="用户登录" mdTooltipPosition="right">
            登录
        </a>
        <button md-icon-button [mdMenuTriggerFor]="menu" *ngIf="user | async" mdTooltip="用户中心"
                mdTooltipPosition="right">
            <md-icon>account_circle</md-icon>
        </button>
        <md-menu #menu>
            <button md-menu-item>
                <md-icon>perm_identity</md-icon>
                <span>{{(user | async)?.get('username')}}</span>
            </button>
            <button md-menu-item (click)="parse.logout()">
                <md-icon>exit_to_app</md-icon>
                <span>注销</span>
            </button>
        </md-menu>
    </div>

    <!--内容区域-->
    <div fxFlex [style.position]="'relative'">
        <md-sidenav-container fullscreen>

            <!--左侧菜单-->
            <md-sidenav class="mat-elevation-z6"
                        [opened]="!isScreenSmall()"
                        [mode]="isScreenSmall() ? 'push' : 'side'"
                        #sidenav>

                <div fxFlex fxLayout="column" fxFill>
                    <md-nav-list fxFlex style="overflow-y: auto">

                        <h3 md-subheader>系统设置</h3>
                        <a md-list-item>
                            <md-icon md-list-icon>settings</md-icon>
                            <span md-line>配置管理</span>
                        </a>
                        <a md-list-item>
                            <md-icon md-list-icon>list</md-icon>
                            <span md-line>菜单管理</span>
                        </a>
                        <md-divider></md-divider>

                        <h3 md-subheader>用户设置</h3>
                        <a md-list-item>
                            <md-icon md-list-icon>group</md-icon>
                            <span md-line>角色管理</span>
                        </a>
                        <a md-list-item>
                            <md-icon md-list-icon>person</md-icon>
                            <span md-line>用户管理</span>
                        </a>
                        <md-divider></md-divider>

                        <h3 md-subheader>关于系统</h3>
                        <a md-list-item>
                            <md-icon md-list-icon>code</md-icon>
                            <span md-line>代码托管</span>
                        </a>
                        <a md-list-item>
                            <md-icon md-list-icon>help</md-icon>
                            <span md-line>使用帮助</span>
                        </a>
                    </md-nav-list>

                    <!--<md-divider></md-divider>-->

                    <!--<div fxFlex="40px" fxLayoutAlign="center center">-->
                        <!--<input type="search" placeholder="搜索关键字">-->
                    <!--</div>-->
                </div>

            </md-sidenav>

            <!--右侧内容区域-->
            <div fxFlex fxLayout="column" fxFill>

                <div fxFlex>
                    <router-outlet></router-outlet>
                </div>

                <app-footer fxFlex="64px"></app-footer>
            </div>

        </md-sidenav-container>
    </div>
</div>